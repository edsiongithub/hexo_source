---
title: C#中的垃圾回收（GC)
date: 2021-10-25 20:34:00
layout: 2021-10-25 20:34:00

---

## 垃圾回收算法
* 引用计数（无法处理循环引用）
* 引用追踪算法：只关心引用变量，将所有引用变量及引用的引用标记为可达，其余的均回收


## 基于代的垃圾回收
假设
* 对象越新，生存期越短（0代）
* 对象越老，生存期越长（2代，最高）
* 回收堆的一部分，速度快于回收整个堆

## 垃圾回收的触发条件
* 代码显示调用GC.Collect()
* windows报低内存情况
* CLR正在卸载AppDomain
* CLR正在关闭

![开启日志](C:\Users\gxwang\Desktop\images\20211026150408.png)
<!--more-->
